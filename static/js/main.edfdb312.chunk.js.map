{"version":3,"sources":["redux/user/user.types.js","redux/user/user.reducer.js","redux/root-reducer.js","redux/store.js","firebase/firebase.utils.js","components/header/header.component.jsx","components/todo-form/todo-form.component.jsx","components/todo/todo.component.jsx","components/list-title/list-title.component.jsx","components/custom-button/custom-button.component.jsx","components/form-input/form-input.component.jsx","components/invite-modal/invite-modal.component.jsx","components/toast/toast.component.jsx","components/loading-spinner/loading-spinner.component.jsx","pages/todo-list/todo-list.component.jsx","components/change-display-name/change-display-name.component.jsx","components/change-password/change-password.component.jsx","pages/profile/profile.component.jsx","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","pages/sign-in-and-sign-up/sign-in-and-sign-up.component.jsx","pages/user-lists/user-lists.component.jsx","pages/reset-password/reset-password.component.jsx","pages/sign-out/sign-out.component.jsx","pages/contact/contact.component.jsx","App.js","redux/user/user.actions.js","index.js"],"names":["UserActionTypes","INITIAL_STATE","currentUser","userReducer","state","action","type","payload","combineReducers","user","middlewares","logger","store","createStore","rootReducer","applyMiddleware","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","lastActive","now","set","id","userID","match","join","todoListIDs","inviteIDs","invitesSent","activeTodoList","tempPassword","error","console","log","message","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","signInViaEmail","userEmail","actionCodeSettings","url","handleCodeInApp","sendSignInLinkToEmail","then","localStorage","setItem","catch","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","event","preventDefault","signInWithPopup","Option","styled","div","connect","history","useHistory","handleLogout","listRef","collection","listSnapshot","docs","forEach","list","updateRef","updateSnap","update","activeContributors","data","filter","signOut","push","className","onClick","to","TodoForm","handleChange","target","name","value","setState","handleSubmit","text","props","onSubmit","shortid","generate","complete","contributorID","this","onChange","placeholder","React","Component","todo","todoId","adminID","toggleComplete","deleteTodo","setTodo","textValue","index","useState","editMode","setTodoText","checked","htmlFor","onBlur","onKeyPress","key","disabled","ListTitle","title","handleClick","listAdmin","titleChanged","keyPressHandler","updateTitle","listID","listName","handleListName","undefined","document","querySelector","focus","listTitle","maxLength","role","CustomButton","children","isGoogleSignIn","inverted","otherProps","FormInput","label","length","InviteModal","cancelBtn","inviteEmail","emailError","classList","remove","dbInviteUser","click","setTimeout","add","todoListID","handleInvite","inviteData","Object","keys","includes","currentUserRef","updatedInviteData","updateData","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","style","paddingBottom","required","display","paddingTop","borderTop","Toast","removeToast","toast","useEffect","aria-live","aria-atomic","success","emailSent","passwordUpdated","inviteAccepted","listDeleted","errorDeletingList","LoadingSpinner","loadingTypes","userLists","todoList","profilePage","contactPage","signout","TodoListPage","dragSrcIndex","fetchListData","location","unsubscribeFromList","onSnapshot","renderRedirect","updateTodo","updatedTodos","todos","map","updateDB","addTodo","loggedIn","deleteCompleteTodos","markAllComplete","setAllActive","filterTodos","todoFilter","reverseSortTodos","descending","reverse","toastMsg","toastType","deleteAction","todoListRef","todoListSnapshot","alert","todoIDs","updatedAt","lastUpdated","handleDragStart","updating","currentTarget","opacity","dataTransfer","effectAllowed","handleDragOver","stopPropagation","dropEffect","handleDragEnter","handleDragLeave","handleDrop","updateTodos","temp","handleDragEnd","querySelectorAll","icon","allTodos","isLoaded","contributorIDs","todoSearch","params","listSnap","activeUsers","todoContainers","call","container","addEventListener","clearTodosBtn","some","allComplete","allActive","reverseSort","bulkActionsDropdown","data-toggle","aria-haspopup","aria-expanded","data-tip","place","toLowerCase","draggable","onDragStart","onDragOver","onDragEnter","onDragLeave","onDragEnd","onDrop","data-target","ChangeDisplayName","inputName","showError","errorMsg","setName","fontWeight","ChangePassword","loading","passwordUpdateRequired","currentPassword","newPassword","credential","EmailAuthProvider","refreshToken","reauthenticateWithCredential","updatePassword","confirmNewPassword","SignIn","password","signInWithEmailAndPassword","slice","indexOf","isSignInWithEmailLink","window","href","getItem","signInWithEmailLink","removeItem","width","SignUp","confirmPassword","createUserWithEmailAndPassword","SignInAndSignUpPage","UserLists","initialize","getLists","listData","sort","list1","list2","invitedUserLists","todoLists","invitedLists","deleting","createTodoList","newListID","substr","createdBy","updateUserTodoIDs","unshift","currentListIDs","updateContributors","response","updatedTodoLists","updatedInvitedLists","searchLists","listSearch","handleDelete","parentEl","delete","listPageRef","updatedContributors","prevProps","mappedTodos","toLocaleLowerCase","listid","pathname","toLocaleDateString","transition","ResetPassword","SignOut","Contact","visibility","App","unsubscribeFromAuth","setCurrentUser","onAuthStateChanged","snapShot","exact","path","render","component","Profile","dispatch","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.edfdb312.chunk.js","sourcesContent":["export const UserActionTypes = {\n\tSET_CURRENT_USER: 'SET_CURRENT_USER'\n};\n","import { UserActionTypes } from './user.types';\n\nconst INITIAL_STATE = {\n\tcurrentUser: null\n};\n\nconst userReducer = (state = INITIAL_STATE, action) => {\n\tswitch (action.type) {\n\t\tcase UserActionTypes.SET_CURRENT_USER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentUser: action.payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default userReducer;\n","import { combineReducers } from 'redux';\n\nimport userReducer from './user/user.reducer';\n\nexport default combineReducers({\n\tuser: userReducer\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\n\nimport rootReducer from './root-reducer';\n\nconst middlewares = [logger];\n\nconst store = createStore(rootReducer, applyMiddleware(...middlewares));\n\nexport default store;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n\tapiKey: 'AIzaSyDDUfP83Z9VOs6fkra1RE1kVuhU_X9oXhQ',\n\tauthDomain: 'csc335-todoapp.firebaseapp.com',\n\tdatabaseURL: 'https://csc335-todoapp.firebaseio.com',\n\tprojectId: 'csc335-todoapp',\n\tstorageBucket: 'csc335-todoapp.appspot.com',\n\tmessagingSenderId: '551348834375',\n\tappId: '1:551348834375:web:6e6935bf1dcdc68675e162'\n};\n\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\n\tif (!userAuth) return;\n\n\tconst userRef = firestore.doc(`users/${userAuth.uid}`);\n\tconst snapShot = await userRef.get();\n\n\tif (!snapShot.exists) {\n\t\tconst { uid, displayName, email } = userAuth;\n\t\tconst createdAt = new Date();\n\t\tconst lastActive = Date.now();\n\n\t\ttry {\n\t\t\tuserRef.set({\n\t\t\t\tid: uid,\n\t\t\t\tdisplayName,\n\t\t\t\temail,\n\t\t\t\tcreatedAt,\n\t\t\t\tlastActive,\n\t\t\t\t...additionalData,\n\t\t\t\tuserID: uid.match(/\\d/g).join(''),\n\t\t\t\ttodoListIDs: [],\n\t\t\t\tinviteIDs: {},\n\t\t\t\tinvitesSent: {},\n\t\t\t\tactiveTodoList: null,\n\t\t\t\ttempPassword: null\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log('Error creating user', error.message);\n\t\t}\n\t}\n\n\treturn userRef;\n};\n\nfirebase.initializeApp(config);\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nexport const signInViaEmail = async userEmail => {\n\tconst actionCodeSettings = {\n\t\turl: 'http://localhost:3000/signin?email=' + userEmail,\n\t\thandleCodeInApp: true\n\t};\n\n\tauth\n\t\t.sendSignInLinkToEmail(userEmail, actionCodeSettings)\n\t\t.then(() => {\n\t\t\tlocalStorage.setItem('emailForSignIn', userEmail);\n\t\t\tconsole.log('SUCCESS: Email sent.');\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('ERROR: Unable to send email.');\n\t\t\tconsole.error(error.message);\n\t\t});\n};\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({ prompt: 'select_account' });\nexport const signInWithGoogle = event => {\n\tevent.preventDefault();\n\tauth.signInWithPopup(provider);\n};\n\nexport default firebase;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { auth, firestore } from '../../firebase/firebase.utils';\n\nimport styled from 'styled-components';\nimport './header.styles.scss';\n\nconst Option = styled.div`\n\tpadding: 10px 15px;\n\tcursor: pointer;\n`;\n\nconst Header = ({ currentUser }) => {\n\tconst history = useHistory();\n\n\tconst handleLogout = async () => {\n\t\tconst listRef = firestore.collection('todoLists');\n\t\tconst listSnapshot = await listRef.get();\n\t\tconst listData = listSnapshot.docs;\n\n\t\tlistData.forEach(async list => {\n\t\t\tconst updateRef = firestore.doc(`todoLists/${list.id}`);\n\t\t\tconst updateSnap = await updateRef.get();\n\t\t\tupdateRef.update({\n\t\t\t\tactiveContributors: updateSnap\n\t\t\t\t\t.data()\n\t\t\t\t\t.activeContributors.filter(id => id !== currentUser.userID)\n\t\t\t});\n\t\t});\n\n\t\tauth.signOut();\n\t\thistory.push('/signout');\n\t};\n\n\tconst renderHome = () => {\n\t\tcurrentUser\n\t\t\t? history.push(`/user/${currentUser.userID}/todo-lists`)\n\t\t\t: history.push('/');\n\t};\n\n\treturn (\n\t\t<div className='header navbar navbar-light'>\n\t\t\t<div onClick={() => renderHome()} className='nav-title' id='home'>\n\t\t\t\t<h1>Cloud ToDo</h1>\n\t\t\t</div>\n\t\t\t<div className='options'>\n\t\t\t\t<Link\n\t\t\t\t\tclassName='option'\n\t\t\t\t\tto={currentUser ? `/user/${currentUser.userID}/todo-lists` : '/'}\n\t\t\t\t>\n\t\t\t\t\t<Option>{currentUser ? 'TODO LISTS' : null}</Option>\n\t\t\t\t</Link>\n\t\t\t\t<Link className='option' to='/contact'>\n\t\t\t\t\t<Option>CONTACT</Option>\n\t\t\t\t</Link>\n\t\t\t\t{currentUser ? (\n\t\t\t\t\t<Link to={`/user/${currentUser.userID}/profile`} className='option'>\n\t\t\t\t\t\t<Option>ACCOUNT</Option>\n\t\t\t\t\t</Link>\n\t\t\t\t) : null}\n\t\t\t\t{currentUser ? (\n\t\t\t\t\t<div className='option' onClick={() => handleLogout()}>\n\t\t\t\t\t\t<Option>SIGN OUT</Option>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Link className='option' to='/signin'>\n\t\t\t\t\t\t<Option>SIGN IN</Option>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport shortid from 'shortid';\n\nimport './todo-form.styles.scss';\n\nclass TodoForm extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\ttext: ''\n\t\t};\n\t}\n\n\thandleChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t};\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n\t\t// Submit Form\n\t\tif (this.state.text === '') {\n\t\t\t// TODO: Empty Input Field Error Handling Here?\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onSubmit({\n\t\t\tid: shortid.generate(),\n\t\t\ttext: this.state.text,\n\t\t\tcomplete: false,\n\t\t\tcontributorID: this.props.currentUser\n\t\t\t\t? this.props.currentUser.userID\n\t\t\t\t: null\n\t\t});\n\n\t\tthis.setState({\n\t\t\ttext: ''\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='todo-form'>\n\t\t\t\t<form className='form-container' onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='text'\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tplaceholder='Enter Your ToDos Here'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='add-todo-btn btn btn-dark'\n\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd ToDo\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(TodoForm);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport './todo.styles.scss';\n\nconst Todo = props => {\n\tconst {\n\t\ttodo: { todoId, text, complete },\n\t\tadminID,\n\t\tcontributorID,\n\t\ttoggleComplete,\n\t\tdeleteTodo,\n\t\tsetTodo,\n\t\ttextValue,\n\t\tindex\n\t} = props;\n\n\tconst [state, setState] = useState({\n\t\teditMode: false,\n\t\ttext: text\n\t});\n\n\tconst handleChange = event => {\n\t\tconst { value } = event.target;\n\t\tsetState({\n\t\t\t...state,\n\t\t\ttext: value\n\t\t});\n\t};\n\n\tconst setTodoText = async () => {\n\t\tsetState({\n\t\t\t...state,\n\t\t\teditMode: false\n\t\t});\n\n\t\tsetTodo(props.todo, state.text);\n\t};\n\n\tconst keyPressHandler = event => {\n\t\tif (state.text === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tsetTodoText();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div id={index} className='todo-container input-group mb-3'>\n\t\t\t<div className='input-group-prepend'>\n\t\t\t\t<div className='input-group-text'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={todoId}\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tchecked={complete}\n\t\t\t\t\t\tonChange={state.editMode ? null : toggleComplete}\n\t\t\t\t\t\tclassName='checkbox-styled'\n\t\t\t\t\t/>\n\t\t\t\t\t<label className='box-label' htmlFor='checkbox'></label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\ttype='text'\n\t\t\t\tclassName={`todo-item form-control ${complete ? 'complete' : ''} ${\n\t\t\t\t\tstate.editMode ? 'edit-input' : ''\n\t\t\t\t}`}\n\t\t\t\tonClick={state.editMode ? null : toggleComplete}\n\t\t\t>\n\t\t\t\t{state.editMode ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${todoId}-input`}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tclassName='edit-input-field'\n\t\t\t\t\t\tvalue={state.text}\n\t\t\t\t\t\tonChange={event => handleChange(event)}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetTodoText();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonKeyPress={keyPressHandler}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\ttextValue\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclassName={`edit-todo badge badge-light ${\n\t\t\t\t\tprops.currentUser\n\t\t\t\t\t\t? (props.currentUser.userID === adminID ||\n\t\t\t\t\t\t\t\tprops.currentUser.userID === contributorID) &&\n\t\t\t\t\t\t  !complete\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: 'disable-edit'\n\t\t\t\t\t\t: complete\n\t\t\t\t\t\t? 'disable-edit'\n\t\t\t\t\t\t: ''\n\t\t\t\t} ${state.editMode ? 'editing' : ''}`}\n\t\t\t\tonClick={\n\t\t\t\t\tcomplete\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: () => {\n\t\t\t\t\t\t\t\tsetState({ ...state, editMode: !state.editMode });\n\t\t\t\t\t\t  }\n\t\t\t\t}\n\t\t\t\tdisabled={\n\t\t\t\t\tprops.currentUser\n\t\t\t\t\t\t? props.currentUser.userID === contributorID ||\n\t\t\t\t\t\t  props.currentUser.userID === adminID\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t: false\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<i className='material-icons'>edit</i>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclassName={`delete-todo badge badge-danger ${\n\t\t\t\t\tprops.currentUser\n\t\t\t\t\t\t? props.currentUser.userID !== contributorID &&\n\t\t\t\t\t\t  props.currentUser.userID !== adminID\n\t\t\t\t\t\t\t? 'disable-delete'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t: ''\n\t\t\t\t}`}\n\t\t\t\tonClick={deleteTodo}\n\t\t\t\tdisabled={\n\t\t\t\t\tprops.currentUser\n\t\t\t\t\t\t? props.currentUser.userID === contributorID ||\n\t\t\t\t\t\t  props.currentUser.userID === adminID\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t: false\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<i className='material-icons'>delete</i>\n\t\t\t</button>\n\t\t\t<div id={index} className='reorder-todo'>\n\t\t\t\t<i className='material-icons'>reorder</i>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(Todo);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { firestore } from '../../firebase/firebase.utils';\n\nimport './list-title.styles.scss';\n\nclass ListTitle extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttitle: \"Today's Todos\",\n\t\t\teditMode: false,\n\t\t\ttitleChanged: false\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (!props.currentUser) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (props.listName !== state.title && !state.titleChanged) {\n\t\t\treturn {\n\t\t\t\ttitle: props.listName\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.state.title === undefined) {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"Today's Todos\",\n\t\t\t\teditMode: false,\n\t\t\t\ttitleChanged: false\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = event => {\n\t\tthis.setState({\n\t\t\ttitle: event.target.value\n\t\t});\n\t};\n\n\thandleClick = () => {\n\t\tif (this.state.title === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.currentUser.userID !== this.props.listAdmin) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState(state => ({\n\t\t\teditMode: !state.editMode,\n\t\t\ttitleChanged: true\n\t\t}));\n\t};\n\n\tkeyPressHandler = event => {\n\t\tif (this.state.title === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.setState({\n\t\t\t\teditMode: false\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidUpdate() {\n\t\tconst { editMode, titleChanged } = this.state;\n\t\tconst { currentUser } = this.props;\n\t\tif (editMode) {\n\t\t\tdocument.querySelector('#title-input').focus();\n\t\t} else if (currentUser && !editMode && titleChanged) {\n\t\t\tthis.updateTitle();\n\t\t}\n\t}\n\n\tupdateTitle = async () => {\n\t\tconst { listID } = this.props;\n\t\tconst listRef = firestore.doc(`todoLists/${listID}`);\n\t\tconst listSnapshot = await listRef.get();\n\n\t\tif (listSnapshot.exists) {\n\t\t\ttry {\n\t\t\t\tlistRef\n\t\t\t\t\t.update({\n\t\t\t\t\t\tlistName: this.state.title\n\t\t\t\t\t})\n\t\t\t\t\t.then(this.props.handleListName(this.state.title));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Error updating list name', error.message);\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { title } = this.state;\n\t\tconst listTitle = this.state.editMode ? (\n\t\t\t<input\n\t\t\t\tid='title-input'\n\t\t\t\ttype='text'\n\t\t\t\tvalue={title}\n\t\t\t\tonBlur={this.handleClick}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tonKeyPress={event => this.keyPressHandler(event)}\n\t\t\t\tmaxLength='30'\n\t\t\t\tclassName={`${this.state.title ? 'filled' : 'empty'}`}\n\t\t\t\tplaceholder='Feed me a title!'\n\t\t\t/>\n\t\t) : (\n\t\t\t<h1 className='title' onClick={this.handleClick}>\n\t\t\t\t{title ? (\n\t\t\t\t\ttitle\n\t\t\t\t) : (\n\t\t\t\t\t<div className='spinner-border text-secondary' role='status'>\n\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{this.props.currentUser ? (\n\t\t\t\t\tthis.props.currentUser.userID === this.props.listAdmin ? (\n\t\t\t\t\t\t<span id='edit-title'>&#9998;</span>\n\t\t\t\t\t) : null\n\t\t\t\t) : (\n\t\t\t\t\t<span id='edit-title'>&#9998;</span>\n\t\t\t\t)}\n\t\t\t</h1>\n\t\t);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`title-container ${\n\t\t\t\t\tthis.props.currentUser\n\t\t\t\t\t\t? this.props.currentUser.userID === this.props.listAdmin\n\t\t\t\t\t\t\t? 'admin'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t: 'admin'\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t{listTitle}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(ListTitle);\n","import React from 'react';\n\nimport './custom-button.styles.scss';\n\nconst CustomButton = ({\n\tchildren,\n\tisGoogleSignIn,\n\tinverted,\n\t...otherProps\n}) => (\n\t<button\n\t\tclassName={`${inverted ? 'inverted' : ''}\n        ${isGoogleSignIn ? 'google-sign-in' : ''}\n        custom-button btn btn-sm`}\n\t\t{...otherProps}\n\t>\n\t\t{children}\n\t</button>\n);\n\nexport default CustomButton;\n","import React from 'react';\n\nimport './form-input.styles.scss';\n\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\n\t<div className='group'>\n\t\t<input className='form-input' onChange={handleChange} {...otherProps} />\n\t\t{label ? (\n\t\t\t<label\n\t\t\t\tclassName={`${\n\t\t\t\t\totherProps.value.length ? 'shrink' : ''\n\t\t\t\t} form-input-label`}\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t) : null}\n\t</div>\n);\n\nexport default FormInput;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { firestore } from '../../firebase/firebase.utils';\n\nimport FormInput from '../form-input/form-input.component';\n\nimport './invite-modal.styles.scss';\n\nclass InviteModal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinviteEmail: '',\n\t\t\temailError: false\n\t\t};\n\t}\n\n\tcancelBtn = () => {\n\t\tthis.setState({\n\t\t\tinviteEmail: '',\n\t\t\temailError: false\n\t\t});\n\t};\n\n\thandleChange = event => {\n\t\tevent.preventDefault();\n\n\t\tconst { value } = event.target;\n\n\t\tthis.setState({\n\t\t\tinviteEmail: value,\n\t\t\temailError: false\n\t\t});\n\t};\n\n\thandleSubmit = () => {\n\t\tdocument.querySelector('#emailError').classList.remove('animated', 'flash');\n\t\tconst { inviteEmail } = this.state;\n\t\tconst { email } = this.props.currentUser;\n\n\t\tif (inviteEmail === email || inviteEmail === '') {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\temailError: true\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t.querySelector('#emailError')\n\t\t\t\t\t\t\t.classList.add('animated', 'flash');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.dbInviteUser(inviteEmail);\n\n\t\tthis.setState({\n\t\t\tinviteEmail: '',\n\t\t\temailError: false\n\t\t});\n\t\tdocument.querySelector('#modal-close').click();\n\t};\n\n\tkeyPressHandler = event => {\n\t\tconst { inviteEmail } = this.state;\n\t\tconst { email } = this.props.currentUser;\n\n\t\tif (inviteEmail === email) {\n\t\t\tthis.setState({\n\t\t\t\temailError: true\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.handleSubmit();\n\t\t\tdocument.querySelector('#modal-close').click();\n\t\t}\n\t};\n\n\tdbInviteUser = async userEmail => {\n\t\tconst {\n\t\t\tcurrentUser: { id, displayName, email, invitesSent },\n\t\t\ttodoListID,\n\t\t\thandleInvite\n\t\t} = this.props;\n\n\t\tconst inviteData = {\n\t\t\t[todoListID]: { displayName, email }\n\t\t};\n\n\t\ttry {\n\t\t\tconst updateRef = firestore.collection('users');\n\t\t\tconst updateSnapshot = await updateRef.get();\n\t\t\tupdateSnapshot.docs.forEach(async doc => {\n\t\t\t\tif (doc.data().email === userEmail) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tObject.keys(doc.data().inviteIDs).includes(todoListID) ||\n\t\t\t\t\t\tdoc.data().userID === this.props.adminID\n\t\t\t\t\t) {\n\t\t\t\t\t\tconsole.error('ERROR: Unable to send invite to this user.');\n\t\t\t\t\t\thandleInvite('error');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdateRef.doc(doc.id).update({\n\t\t\t\t\t\t\tinviteIDs: { ...inviteData, ...doc.data().inviteIDs }\n\t\t\t\t\t\t});\n\t\t\t\t\t\thandleInvite('success');\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst currentUserRef = firestore.doc(`users/${id}`);\n\t\t\t\t\t\t\tawait currentUserRef.get().then(() => {\n\t\t\t\t\t\t\t\tlet inviteData = invitesSent[userEmail];\n\t\t\t\t\t\t\t\tlet updatedInviteData = [];\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tinviteData === undefined ||\n\t\t\t\t\t\t\t\t\tinviteData.includes(todoListID)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tupdatedInviteData = [todoListID];\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tupdatedInviteData = [todoListID, ...inviteData];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst updateData = {\n\t\t\t\t\t\t\t\t\t...invitesSent,\n\t\t\t\t\t\t\t\t\t[userEmail]: updatedInviteData\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tcurrentUserRef.update({\n\t\t\t\t\t\t\t\t\tinvitesSent: updateData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('ERROR: Unable to update invites.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\thandleInvite(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (error) {\n\t\t\thandleInvite(null);\n\t\t\tconsole.error('ERROR: Unable to invite user. Email not found.');\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='modal fade'\n\t\t\t\tid='inviteUser'\n\t\t\t\ttabIndex='-1'\n\t\t\t\trole='dialog'\n\t\t\t\taria-labelledby='createList'\n\t\t\t\taria-hidden='true'\n\t\t\t>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered' role='document'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title' id='inviteUserTitle'>\n\t\t\t\t\t\t\t\tInvite to List\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid='modal-close'\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='close'\n\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body' style={{ paddingBottom: '0px' }}>\n\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\tid='userEmail'\n\t\t\t\t\t\t\t\tname='userEmail'\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tvalue={this.state.inviteEmail}\n\t\t\t\t\t\t\t\tlabel='User Email'\n\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\tonKeyPress={this.keyPressHandler}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid='emailError'\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tthis.state.emailError\n\t\t\t\t\t\t\t\t\t\t? { display: 'block' }\n\t\t\t\t\t\t\t\t\t\t: { display: 'none' }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tInvalid email address. Please try again.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='modal-footer'\n\t\t\t\t\t\t\tstyle={{ paddingTop: '0px', borderTop: 'none' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-light'\n\t\t\t\t\t\t\t\tonClick={() => this.cancelBtn()}\n\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-dark'\n\t\t\t\t\t\t\t\tonClick={() => this.handleSubmit()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tInvite\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(InviteModal);\n","import React, { useEffect } from 'react';\n\nimport './toast.styles.scss';\n\nconst Toast = props => {\n\tconst { type } = props;\n\tconst toastTypes = {\n\t\tsuccess: 'Your Invite Has Been Sent',\n\t\temailSent: 'Email Sent',\n\t\tpasswordUpdated: 'Password Updated',\n\t\tinviteAccepted: 'List Joined',\n\t\tlistDeleted: 'Todo List Deleted',\n\t\terrorDeletingList: 'Error Deleting List',\n\t\terror: 'Error Sending Invite'\n\t};\n\n\tconst removeToast = () => {\n\t\tconst toast = document.querySelector('#toast-popup');\n\t\tsetTimeout(() => {\n\t\t\ttoast.classList.remove(`toast-${type}`);\n\t\t}, 4000);\n\t};\n\n\tuseEffect(() => {\n\t\tconst toast = document.querySelector('#toast-popup');\n\n\t\tswitch (type) {\n\t\t\tcase 'success':\n\t\t\t\ttoast.classList.add('toast-success');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'emailSent':\n\t\t\t\ttoast.classList.add('toast-emailSent');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'passwordUpdated':\n\t\t\t\ttoast.classList.add('toast-passwordUpdated');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'inviteAccepted':\n\t\t\t\ttoast.classList.add('toast-inviteAccepted');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'listDeleted':\n\t\t\t\ttoast.classList.add('toast-listDeleted');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'errorDeletingList':\n\t\t\t\ttoast.classList.add('toast-errorDeletingList');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tcase 'error':\n\t\t\t\ttoast.classList.add('toast-error');\n\t\t\t\tremoveToast();\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t}\n\t});\n\n\treturn (\n\t\t<div\n\t\t\tid='toast-popup'\n\t\t\tclassName='toast'\n\t\t\trole='alert'\n\t\t\taria-live='assertive'\n\t\t\taria-atomic='true'\n\t\t>\n\t\t\t<div className='toast-body'>{toastTypes[type]}</div>\n\t\t</div>\n\t);\n};\n\nexport default Toast;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './loading-spinner.styles.scss';\n\nclass LoadingSpinner extends React.Component {\n\tloadingTypes = {\n\t\tuserLists: 'Loading Lists',\n\t\ttodoList: 'Getting Todos',\n\t\tprofilePage: 'Grabbing Profile',\n\t\tcontactPage: 'Loading',\n\t\tsignout: 'Signing Out'\n\t};\n\n\tcomponentDidMount() {\n\t\tsetTimeout(() => {\n\t\t\tif (this.props.message === 'signout') {\n\t\t\t\tdocument.querySelector('#reset').click();\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}, 2000);\n\t}\n\n\trender() {\n\t\tconst { message } = this.props;\n\t\treturn (\n\t\t\t<div className='loading-container'>\n\t\t\t\t<h1 className='animated pulse infinite'>\n\t\t\t\t\t{this.loadingTypes[message]}\n\t\t\t\t</h1>\n\t\t\t\t<div>\n\t\t\t\t\t<div className='spinner-border text-secondary big-spin' role='status'>\n\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Link id='reset' to='/' />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoadingSpinner;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { firestore } from '../../firebase/firebase.utils';\n\nimport TodoForm from '../../components/todo-form/todo-form.component';\nimport Todo from '../../components/todo/todo.component';\nimport ListTitle from '../../components/list-title/list-title.component';\nimport CustomButton from '../../components/custom-button/custom-button.component';\nimport InviteModal from '../../components/invite-modal/invite-modal.component';\nimport Toast from '../../components/toast/toast.component';\nimport LoadingSpinner from '../../components/loading-spinner/loading-spinner.component';\nimport ReactTooltip from 'react-tooltip';\n\nimport './todo-list.styles.scss';\n\nclass TodoListPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tallTodos: [],\n\t\t\ttodos: [],\n\t\t\ttodoFilter: 'all',\n\t\t\tdescending: true,\n\t\t\ttoastType: null,\n\t\t\tlastUpdated: null,\n\t\t\tisLoaded: false,\n\t\t\tloggedIn: false,\n\t\t\tcontributorIDs: [],\n\t\t\tactiveContributors: [],\n\t\t\tid: this.currentUser ? this.props.location.state.id : null,\n\t\t\ttodoSearch: ''\n\t\t};\n\n\t\tthis.unsubscribeFromList = null;\n\t}\n\n\tdragSrcIndex = null;\n\n\tcomponentDidMount() {\n\t\tthis.fetchListData();\n\n\t\tif (!this.props.currentUser) {\n\t\t\tif (this.props.match.url === '/') {\n\t\t\t\t// setTimeout(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: true\n\t\t\t\t});\n\t\t\t\t// }, 1000);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { currentUser } = this.props;\n\t\tconst { userID } = this.props.match.params;\n\n\t\tif (currentUser) {\n\t\t\tif (\n\t\t\t\tcurrentUser.userID !== userID ||\n\t\t\t\t!currentUser.todoListIDs.includes(this.state.id)\n\t\t\t) {\n\t\t\t\tthis.renderRedirect();\n\t\t\t\treturn;\n\t\t\t} else if (!this.state.loggedIn && !this.state.isLoaded) {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\tisLoaded: true\n\t\t\t\t\t},\n\t\t\t\t\tasync () => {\n\t\t\t\t\t\tconst listRef = firestore.doc(`todoLists/${this.state.id}`);\n\t\t\t\t\t\tconst listSnap = await listRef.get();\n\t\t\t\t\t\tconst activeUsers = [...listSnap.data().activeContributors];\n\n\t\t\t\t\t\tif (!activeUsers.includes(currentUser.userID)) {\n\t\t\t\t\t\t\tactiveUsers.push(currentUser.userID);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlistRef\n\t\t\t\t\t\t\t.update({\n\t\t\t\t\t\t\t\tactiveContributors: activeUsers\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tactiveContributors: activeUsers\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.state.loggedIn || !this.props.currentUser) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.currentUser) {\n\t\t\tthis.unsubscribeFromList();\n\t\t}\n\t}\n\n\tfetchListData = () => {\n\t\tif (this.props.location.state !== undefined) {\n\t\t\tthis.unsubscribeFromList = firestore\n\t\t\t\t.collection('todoLists')\n\t\t\t\t.doc(`${this.props.location.state.id}`)\n\t\t\t\t.onSnapshot(doc => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...doc.data()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\trenderRedirect = () => {\n\t\tdocument.querySelector('#home').click();\n\t};\n\n\tsetTodo = async (updateTodo, text) => {\n\t\tconst updatedTodos = this.state.todos.map(todo => {\n\t\t\tif (todo.id === updateTodo.id) {\n\t\t\t\treturn {\n\t\t\t\t\t...todo,\n\t\t\t\t\ttext: text\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn todo;\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({\n\t\t\ttodos: updatedTodos\n\t\t});\n\n\t\tthis.updateDB();\n\t};\n\n\taddTodo = todo => {\n\t\tthis.setState(state => ({\n\t\t\ttodos: [todo, ...state.todos]\n\t\t}));\n\n\t\tthis.updateDB();\n\t};\n\n\tdeleteTodo = (id, contributorID) => {\n\t\tif (this.state.loggedIn) {\n\t\t\tconst { userID } = this.props.currentUser;\n\t\t\tconst { adminID } = this.state;\n\n\t\t\tif (userID === contributorID || userID === adminID) {\n\t\t\t\tthis.setState(state => ({\n\t\t\t\t\ttodos: state.todos.filter(todo => todo.id !== id)\n\t\t\t\t}));\n\n\t\t\t\tthis.updateDB(true);\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState(state => ({\n\t\t\t\ttodos: state.todos.filter(todo => todo.id !== id)\n\t\t\t}));\n\t\t}\n\t};\n\n\tdeleteCompleteTodos = () => {\n\t\tthis.setState(state => ({\n\t\t\ttodos: state.todos.filter(todo => !todo.complete)\n\t\t}));\n\n\t\tthis.updateDB(true);\n\t};\n\n\tmarkAllComplete = () => {\n\t\tthis.setState(state => ({\n\t\t\ttodos: state.todos.map(todo => ({\n\t\t\t\t...todo,\n\t\t\t\tcomplete: true\n\t\t\t}))\n\t\t}));\n\n\t\tthis.updateDB();\n\t};\n\n\tsetAllActive = () => {\n\t\tthis.setState(state => ({\n\t\t\ttodos: state.todos.map(todo => ({\n\t\t\t\t...todo,\n\t\t\t\tcomplete: false\n\t\t\t}))\n\t\t}));\n\n\t\tthis.updateDB();\n\t};\n\n\tfilterTodos = event => {\n\t\tthis.setState({\n\t\t\ttodoFilter: event.target.name\n\t\t});\n\t};\n\n\treverseSortTodos = () => {\n\t\tthis.setState(state => ({\n\t\t\tdescending: !state.descending,\n\t\t\ttodos: state.todos.reverse()\n\t\t}));\n\t};\n\n\ttoggleComplete = id => {\n\t\tthis.setState(state => ({\n\t\t\ttodos: state.todos.map(todo => {\n\t\t\t\tif (todo.id === id) {\n\t\t\t\t\ttodo.complete = !todo.complete;\n\t\t\t\t}\n\t\t\t\treturn todo;\n\t\t\t})\n\t\t}));\n\n\t\tthis.updateDB();\n\t};\n\n\thandleInvite = toastMsg => {\n\t\tthis.setState({\n\t\t\ttoastType: toastMsg\n\t\t});\n\t};\n\n\thandleListName = name => {\n\t\tif (name !== this.state.listName) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tlistName: name\n\t\t\t\t},\n\t\t\t\t() => this.updateDB()\n\t\t\t);\n\t\t}\n\t};\n\n\tupdateDB = async (deleteAction = false) => {\n\t\tif (!this.state.loggedIn) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { id } = this.props.location.state;\n\t\tconst todoListRef = firestore.doc(`todoLists/${id}`);\n\t\tconst todoListSnapshot = await todoListRef.get();\n\n\t\tif (!todoListSnapshot.exists) {\n\t\t\talert('List has been deleted.');\n\t\t\tthis.renderRedirect();\n\t\t\treturn;\n\t\t}\n\n\t\tlet todoIDs = [];\n\t\tconst updatedTodos = this.state.todos;\n\n\t\tupdatedTodos.forEach(todo => {\n\t\t\tif (!todoIDs.includes(todo.id)) {\n\t\t\t\ttodoIDs.push(todo.id);\n\t\t\t}\n\t\t});\n\n\t\tif (!deleteAction) {\n\t\t\ttodoListSnapshot.data().todos.forEach(todo => {\n\t\t\t\tif (!todoIDs.includes(todo.id)) {\n\t\t\t\t\ttodoIDs.push(todo.id);\n\t\t\t\t\tupdatedTodos.push(todo);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tconst { descending, listName, todoFilter } = this.state;\n\t\t\tconst updatedAt = Date.now();\n\t\t\ttodoListRef.update({\n\t\t\t\tdescending,\n\t\t\t\tlistName,\n\t\t\t\ttodoFilter,\n\t\t\t\ttodos: updatedTodos.map(todo => todo),\n\t\t\t\tlastUpdated: updatedAt\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log('Error deleting todo', error.message);\n\t\t}\n\t};\n\n\thandleDragStart = event => {\n\t\tif (this.state.updating) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.currentTarget.style.opacity = '0.4';\n\t\tthis.dragSrcIndex = event.currentTarget.id;\n\n\t\tevent.dataTransfer.effectAllowed = 'move';\n\t};\n\n\thandleDragOver = event => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tevent.dataTransfer.dropEffect = 'move';\n\n\t\treturn false;\n\t};\n\n\thandleDragEnter = event => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tconsole.log(event.currentTarget);\n\n\t\tif (event.target.classList[0].includes('material-icons')) {\n\t\t\tevent.target.classList.add('over');\n\t\t}\n\t};\n\n\thandleDragLeave = event => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tevent.target.classList.remove('over');\n\t};\n\n\thandleDrop = event => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tif (this.dragSrcIndex !== event.currentTarget.id) {\n\t\t\tlet updateTodos = this.state.todos;\n\t\t\tlet temp = updateTodos[this.dragSrcIndex];\n\t\t\tupdateTodos[this.dragSrcIndex] = updateTodos[event.currentTarget.id];\n\t\t\tupdateTodos[event.currentTarget.id] = temp;\n\n\t\t\tthis.setState({\n\t\t\t\ttodos: updateTodos\n\t\t\t});\n\t\t}\n\n\t\treturn false;\n\t};\n\n\thandleDragEnd = event => {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tevent.currentTarget.style.opacity = 1;\n\t\tdocument.querySelectorAll('.material-icons').forEach(icon => {\n\t\t\ticon.classList.remove('over');\n\t\t});\n\t};\n\n\trender() {\n\t\tconsole.log(this.state.todos);\n\t\tconst todoContainers = document.querySelectorAll('.todo-container');\n\n\t\t[].forEach.call(todoContainers, container => {\n\t\t\tcontainer.addEventListener('dragstart', this.handleDragStart, false);\n\t\t\tcontainer.addEventListener('dragenter', this.handleDragEnter, false);\n\t\t\tcontainer.addEventListener('dragover', this.handleDragOver, false);\n\t\t\tcontainer.addEventListener('dragleave', this.handleDragLeave, false);\n\t\t\tcontainer.addEventListener('drop', this.handleDrop, false);\n\t\t\tcontainer.addEventListener('dragend', this.handleDragEnd, false);\n\t\t});\n\n\t\tlet todos = [];\n\t\tlet clearTodosBtn = this.state.todos.some(todo => todo.complete) ? (\n\t\t\t<button className='dropdown-item' onClick={this.deleteCompleteTodos}>\n\t\t\t\tClear Completed\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className='dropdown-item' disabled>\n\t\t\t\tClear Completed\n\t\t\t</button>\n\t\t);\n\n\t\tlet allComplete = this.state.todos.some(todo => !todo.complete) ? (\n\t\t\t<button className='dropdown-item' onClick={this.markAllComplete}>\n\t\t\t\tMark All Complete\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className='dropdown-item' disabled>\n\t\t\t\tMark All Complete\n\t\t\t</button>\n\t\t);\n\n\t\tlet allActive = this.state.todos.some(todo => todo.complete) ? (\n\t\t\t<button className='dropdown-item' onClick={this.setAllActive}>\n\t\t\t\tSet All Active\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className='dropdown-item' disabled>\n\t\t\t\tSet All Active\n\t\t\t</button>\n\t\t);\n\n\t\tlet reverseSort = (\n\t\t\t<button className='dropdown-item' onClick={() => this.reverseSortTodos()}>\n\t\t\t\tReverse Sort\n\t\t\t\t{this.state.descending ? (\n\t\t\t\t\t<span id='sort-arrow'>&#8673;</span>\n\t\t\t\t) : (\n\t\t\t\t\t<span id='sort-arrow'>&#8675;</span>\n\t\t\t\t)}\n\t\t\t</button>\n\t\t);\n\n\t\tlet bulkActionsDropdown = (\n\t\t\t<div className='btn-group btn-container' role='group'>\n\t\t\t\t<button\n\t\t\t\t\tid='bulk-actions-dropdown'\n\t\t\t\t\ttype='button'\n\t\t\t\t\tclassName='btn btn-sm btn-secondary dropdown-toggle'\n\t\t\t\t\tdata-toggle='dropdown'\n\t\t\t\t\taria-haspopup='true'\n\t\t\t\t\taria-expanded='false'\n\t\t\t\t>\n\t\t\t\t\tBulk Actions\n\t\t\t\t</button>\n\t\t\t\t<div className='dropdown-menu' aria-labelledby='btnGroupDrop1'>\n\t\t\t\t\t{reverseSort}\n\t\t\t\t\t{allComplete}\n\t\t\t\t\t{allActive}\n\t\t\t\t\t{clearTodosBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tswitch (this.state.todoFilter) {\n\t\t\tcase 'active':\n\t\t\t\ttodos = this.state.todos.filter(todo => !todo.complete);\n\t\t\t\tbreak;\n\n\t\t\tcase 'completed':\n\t\t\t\ttodos = this.state.todos.filter(todo => todo.complete);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\ttodos = this.state.todos;\n\t\t}\n\n\t\treturn !this.state.isLoaded ? (\n\t\t\t<LoadingSpinner message='todoList' />\n\t\t) : (\n\t\t\t<div className='list-page-container'>\n\t\t\t\t{this.props.currentUser ? (\n\t\t\t\t\t<div className='contributor-count' data-tip='Currently Active Users'>\n\t\t\t\t\t\t{this.state.activeContributors.length}\n\t\t\t\t\t\t<ReactTooltip place='left' />\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t<ListTitle\n\t\t\t\t\tlistID={this.state.id}\n\t\t\t\t\tlistName={this.state.listName}\n\t\t\t\t\tlistAdmin={this.state.adminID}\n\t\t\t\t\thandleListName={this.handleListName}\n\t\t\t\t/>\n\t\t\t\t<TodoForm onSubmit={this.addTodo} />\n\t\t\t\t<div className='filter-buttons'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Show:</span>\n\t\t\t\t\t\t<div className='btn-group'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\t\tthis.state.todoFilter === 'all'\n\t\t\t\t\t\t\t\t\t\t? 'btn-secondary'\n\t\t\t\t\t\t\t\t\t\t: 'btn-outline-secondary'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tname='all'\n\t\t\t\t\t\t\t\tonClick={this.filterTodos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAll\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\t\tthis.state.todoFilter === 'active'\n\t\t\t\t\t\t\t\t\t\t? 'btn-secondary'\n\t\t\t\t\t\t\t\t\t\t: 'btn-outline-secondary'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tname='active'\n\t\t\t\t\t\t\t\tonClick={this.filterTodos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tActive\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-sm ${\n\t\t\t\t\t\t\t\t\tthis.state.todoFilter === 'completed'\n\t\t\t\t\t\t\t\t\t\t? 'btn-secondary'\n\t\t\t\t\t\t\t\t\t\t: 'btn-outline-secondary'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tname='completed'\n\t\t\t\t\t\t\t\tonClick={this.filterTodos}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCompleted\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='bulk-actions bulk-actions-dropdown'>\n\t\t\t\t\t\t{bulkActionsDropdown}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form-inline my-2 my-lg-0 search-input'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='form-control mr-sm-2'\n\t\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\t\tplaceholder='Search Lists'\n\t\t\t\t\t\t\taria-label='Search'\n\t\t\t\t\t\t\tonChange={event => {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\ttodoSearch: event.target.value\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<i className='material-icons mag-glass'>search</i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='todo-list-container'>\n\t\t\t\t\t{todos.map((todo, index) => {\n\t\t\t\t\t\treturn todo.text\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(this.state.todoSearch.toLowerCase()) ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid={index}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName='single-todo-container'\n\t\t\t\t\t\t\t\tdraggable='true'\n\t\t\t\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\t\t\t\tonDragOver={this.handleDragOver}\n\t\t\t\t\t\t\t\tonDragEnter={this.handleDragEnter}\n\t\t\t\t\t\t\t\tonDragLeave={this.handleDragLeave}\n\t\t\t\t\t\t\t\tonDragEnd={this.handleDragEnd}\n\t\t\t\t\t\t\t\tonDrop={this.handleDrop}\n\t\t\t\t\t\t\t\tupdating={this.state.updating}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Todo\n\t\t\t\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\t\t\t\ttodoId={todo.id}\n\t\t\t\t\t\t\t\t\tdeleteTodo={() =>\n\t\t\t\t\t\t\t\t\t\tthis.deleteTodo(todo.id, todo.contributorID)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttoggleComplete={() => this.toggleComplete(todo.id)}\n\t\t\t\t\t\t\t\t\ttodo={todo}\n\t\t\t\t\t\t\t\t\tcontributorID={todo.contributorID}\n\t\t\t\t\t\t\t\t\tadminID={this.state.adminID}\n\t\t\t\t\t\t\t\t\tlistID={this.state.id}\n\t\t\t\t\t\t\t\t\tsetTodo={this.setTodo}\n\t\t\t\t\t\t\t\t\ttextValue={todo.text}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='more-todos'\n\t\t\t\t\tstyle={todos.length > 6 ? { display: 'block' } : { display: 'none' }}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\trole='img'\n\t\t\t\t\t\taria-label='additional-items'\n\t\t\t\t\t\taria-labelledby='additional-items'\n\t\t\t\t\t>\n\t\t\t\t\t\t&#9899;\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className='active-todos'>\n\t\t\t\t\tStill Todos: {this.state.todos.filter(todo => !todo.complete).length}\n\t\t\t\t\t{this.props.currentUser ? (\n\t\t\t\t\t\tthis.props.currentUser.userID === this.state.adminID ? (\n\t\t\t\t\t\t\t<div className='list-extras'>\n\t\t\t\t\t\t\t\t<CustomButton\n\t\t\t\t\t\t\t\t\tclassName='invite-btn btn btn-outline-dark'\n\t\t\t\t\t\t\t\t\tdata-toggle='modal'\n\t\t\t\t\t\t\t\t\tdata-target='#inviteUser'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t\t\t\t() => document.querySelector('#userEmail').focus(),\n\t\t\t\t\t\t\t\t\t\t\t500\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tInvite to List\n\t\t\t\t\t\t\t\t</CustomButton>\n\t\t\t\t\t\t\t\t<InviteModal\n\t\t\t\t\t\t\t\t\thandleInvite={this.handleInvite}\n\t\t\t\t\t\t\t\t\ttodoListID={this.state.id}\n\t\t\t\t\t\t\t\t\tadminID={this.state.adminID}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className='list-extras'>\n\t\t\t\t\t\t\t<Link className='sign-btn btn btn-outline-dark' to='/signin'>\n\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<span>* Sign Up to Save Your Lists</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className='toast-container'>\n\t\t\t\t\t{this.state.toastType !== null ? (\n\t\t\t\t\t\t<Toast type={this.state.toastType} />\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(TodoListPage);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { firestore } from '../../firebase/firebase.utils';\n\nimport FormInput from '../form-input/form-input.component';\n\nimport './change-display-name.styles.scss';\n\nclass ChangeDisplayName extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinputName: this.props.currentUser.displayName,\n\t\t\tsetName: this.props.currentUser.displayName,\n\t\t\teditMode: false,\n\t\t\tshowError: false,\n\t\t\terrorMsg: ''\n\t\t};\n\t}\n\n\thandleSubmit = async () => {\n\t\tconst { inputName } = this.state;\n\t\tconst { id } = this.props.currentUser;\n\n\t\tconst userRef = firestore.doc(`users/${id}`);\n\t\tconst userSnapshot = await userRef.get();\n\n\t\tif (userSnapshot.exists) {\n\t\t\ttry {\n\t\t\t\tuserRef.update({\n\t\t\t\t\tdisplayName: inputName\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('ERROR: Unable to update display name.');\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowError: true,\n\t\t\t\t\terrorMsg: error.message\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleChange = event => {\n\t\tconst { value } = event.target;\n\n\t\tthis.setState({ inputName: value });\n\t};\n\n\thandleClick = event => {\n\t\tevent.preventDefault();\n\t\tconst { name } = event.target;\n\n\t\tswitch (name) {\n\t\t\tcase 'edit':\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\teditMode: true\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tdocument.querySelector('#edit-name-input').focus();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'save':\n\t\t\t\tthis.setState(\n\t\t\t\t\tstate => ({\n\t\t\t\t\t\tinputName: state.inputName,\n\t\t\t\t\t\tsetName: state.inputName,\n\t\t\t\t\t\teditMode: false\n\t\t\t\t\t}),\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.handleSubmit();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'cancel':\n\t\t\t\tthis.setState(state => ({\n\t\t\t\t\tinputName: state.setName,\n\t\t\t\t\teditMode: false\n\t\t\t\t}));\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error('ERROR: Uh oh! Something went wrong. Please try again.');\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tkeyPressHandler = event => {\n\t\tif (this.state.inputName === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.handleClick(event);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='change-name'>\n\t\t\t\t<h2 className='title'>Change Username</h2>\n\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tid='edit-name-input'\n\t\t\t\t\t\tname='save'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tmaxLength={15}\n\t\t\t\t\t\tvalue={this.state.inputName}\n\t\t\t\t\t\tlabel='Username'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\tonKeyPress={event => this.keyPressHandler(event)}\n\t\t\t\t\t\tstyle={this.state.editMode ? { fontWeight: 'bold' } : null}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tdisabled={!this.state.editMode}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className='buttons'>\n\t\t\t\t\t\t<div className='edit-name'>\n\t\t\t\t\t\t\t{this.state.editMode ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-light edit-name-btn'\n\t\t\t\t\t\t\t\t\tname='cancel'\n\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tclassName='btn btn-dark edit-name-btn'\n\t\t\t\t\t\t\t\tname={this.state.editMode ? 'save' : 'edit'}\n\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t(this.state.inputName === '' ||\n\t\t\t\t\t\t\t\t\t\tthis.state.inputName === this.state.setName) &&\n\t\t\t\t\t\t\t\t\tthis.state.editMode\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.editMode ? 'Save' : 'Edit'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t{this.state.showError ? (\n\t\t\t\t\t<span id='error-message' className='animated pulse infinite'>\n\t\t\t\t\t\t{this.state.errorMsg}\n\t\t\t\t\t</span>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(ChangeDisplayName);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport firebase, { auth } from '../../firebase/firebase.utils';\n\nimport FormInput from '../form-input/form-input.component';\nimport Toast from '../toast/toast.component';\n\nimport './change-password.styles.scss';\n\nclass ChangePassword extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcurrentPassword: '***************',\n\t\t\tnewPassword: '',\n\t\t\tconfirmNewPassword: '',\n\t\t\teditMode: false,\n\t\t\tshowError: false,\n\t\t\terrorMsg: '',\n\t\t\ttoastType: null,\n\t\t\tpasswordUpdateRequired: false,\n\t\t\tloading: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.passwordUpdateRequired) {\n\t\t\tthis.setState({\n\t\t\t\tpasswordUpdateRequired: true,\n\t\t\t\teditMode: true,\n\t\t\t\tshowError: true,\n\t\t\t\terrorMsg: 'Please set your new password.'\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSubmit = async () => {\n\t\tthis.setState({\n\t\t\tloading: true\n\t\t});\n\n\t\tconst { passwordUpdateRequired, currentPassword, newPassword } = this.state;\n\t\tconst user = auth.currentUser;\n\n\t\tif (!passwordUpdateRequired) {\n\t\t\tlet credential = null;\n\t\t\ttry {\n\t\t\t\tcredential = firebase.auth.EmailAuthProvider.credential(\n\t\t\t\t\tuser.email,\n\t\t\t\t\tcurrentPassword\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('User Token Expired. Please try again.');\n\t\t\t\tconsole.error(error.message);\n\t\t\t\tuser.refreshToken();\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait user.reauthenticateWithCredential(credential);\n\t\t\t} catch (error) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowError: true,\n\t\t\t\t\terrorMsg: 'Passwords do not match. Please try again.',\n\t\t\t\t\ttoastType: null,\n\t\t\t\t\tloading: false\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tuser\n\t\t\t.updatePassword(newPassword)\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tcurrentPassword: '***************',\n\t\t\t\t\tnewPassword: '',\n\t\t\t\t\tconfirmNewPassword: '',\n\t\t\t\t\teditMode: false,\n\t\t\t\t\tshowError: false,\n\t\t\t\t\terrorMsg: '',\n\t\t\t\t\ttoastType: 'passwordUpdated',\n\t\t\t\t\tpasswordUpdateRequired: false,\n\t\t\t\t\tloading: false\n\t\t\t\t});\n\t\t\t\tconsole.log('Password saved.');\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('ERROR: Unable to update password.');\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowError: true,\n\t\t\t\t\terrorMsg: error.message,\n\t\t\t\t\ttoastType: null,\n\t\t\t\t\tloading: false\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\thandleChange = event => {\n\t\tconst { name, value } = event.target;\n\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleClick = event => {\n\t\tevent.preventDefault();\n\t\tconst { name } = event.target;\n\n\t\tswitch (name) {\n\t\t\tcase 'edit':\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrentPassword: this.state.passwordUpdateRequired\n\t\t\t\t\t\t\t? '***************'\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\teditMode: true,\n\t\t\t\t\t\ttoastType: null\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tdocument.querySelector('#current-password-input').focus();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'save':\n\t\t\t\tconst { newPassword, confirmNewPassword } = this.state;\n\n\t\t\t\tif (newPassword !== confirmNewPassword) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tshowError: true,\n\t\t\t\t\t\terrorMsg: 'Passwords do not match. Please try again.',\n\t\t\t\t\t\ttoastType: null\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.handleSubmit();\n\t\t\t\treturn;\n\n\t\t\tcase 'cancel':\n\t\t\t\tthis.setState({\n\t\t\t\t\tcurrentPassword: '***************',\n\t\t\t\t\tnewPassword: '',\n\t\t\t\t\tconfirmNewPassword: '',\n\t\t\t\t\teditMode: false,\n\t\t\t\t\ttoastType: null\n\t\t\t\t});\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error('ERROR: Uh oh! Something went wrong. Please try again.');\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tkeyPressHandler = event => {\n\t\tif (this.state.inputName === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.handleClick(event);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { currentPassword, newPassword, confirmNewPassword } = this.state;\n\t\treturn (\n\t\t\t<div className='change-password-container'>\n\t\t\t\t<h2 className='title'>Change Password</h2>\n\t\t\t\t<form className='change-password-form' onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tid='current-password-input'\n\t\t\t\t\t\tname='currentPassword'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={currentPassword}\n\t\t\t\t\t\tlabel='Current Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\tdisabled={!this.state.editMode || this.state.passwordUpdateRequired}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='newPassword'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={newPassword}\n\t\t\t\t\t\tlabel='New Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\tdisabled={!this.state.editMode}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='confirmNewPassword'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={confirmNewPassword}\n\t\t\t\t\t\tlabel='Confirm New Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\tdisabled={!this.state.editMode}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<div className='buttons'>\n\t\t\t\t\t\t<div className='change-password'>\n\t\t\t\t\t\t\t{this.state.editMode ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-light change-password-btn'\n\t\t\t\t\t\t\t\t\tname='cancel'\n\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-dark change-password-btn pw-spinner'\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='spinner-border spinner-border' role='status'>\n\t\t\t\t\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName='btn btn-dark change-password-btn'\n\t\t\t\t\t\t\t\t\tname={this.state.editMode ? 'save' : 'edit'}\n\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t(currentPassword === '' ||\n\t\t\t\t\t\t\t\t\t\t\tnewPassword === '' ||\n\t\t\t\t\t\t\t\t\t\t\tconfirmNewPassword === '' ||\n\t\t\t\t\t\t\t\t\t\t\tnewPassword.length !== confirmNewPassword.length) &&\n\t\t\t\t\t\t\t\t\t\tthis.state.editMode\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.editMode ? 'Confirm' : 'Change Password'}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t{this.state.showError ? (\n\t\t\t\t\t<span id='error-message' className='animated pulse infinite'>\n\t\t\t\t\t\t{this.state.errorMsg}\n\t\t\t\t\t</span>\n\t\t\t\t) : null}\n\t\t\t\t<div className='toast-container'>\n\t\t\t\t\t{this.state.toastType !== null ? (\n\t\t\t\t\t\t<Toast type={this.state.toastType} />\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(ChangePassword);\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ChangeDisplayName from '../../components/change-display-name/change-display-name.component';\nimport ChangePassword from '../../components/change-password/change-password.component';\nimport LoadingSpinner from '../../components/loading-spinner/loading-spinner.component';\n\nimport './profile.styles.scss';\n\nconst Profile = props => {\n\tconst [state, setState] = useState({\n\t\tisLoaded: false\n\t});\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetState({ isLoaded: true });\n\t\t}, 500);\n\t});\n\n\tconst { isLoaded } = state;\n\n\treturn (\n\t\t<div className='profile-page'>\n\t\t\t{props.currentUser && isLoaded ? (\n\t\t\t\tprops.currentUser.userID === props.match.params.userID ? (\n\t\t\t\t\t<div className='profile-page-container'>\n\t\t\t\t\t\t<ChangeDisplayName />\n\t\t\t\t\t\t<ChangePassword\n\t\t\t\t\t\t\tpasswordUpdateRequired={\n\t\t\t\t\t\t\t\tprops.location.state\n\t\t\t\t\t\t\t\t\t? props.location.state.passwordUpdateRequired\n\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={`/user/${props.currentUser.userID}/todo-lists`} />\n\t\t\t\t)\n\t\t\t) : (\n\t\t\t\t<LoadingSpinner message='profilePage' />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(Profile);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport FormInput from '../form-input/form-input.component';\nimport CustomButton from '../custom-button/custom-button.component';\nimport Toast from '../toast/toast.component';\n\nimport {\n\tauth,\n\tsignInWithGoogle,\n\tsignInViaEmail\n} from '../../firebase/firebase.utils';\n\nimport './sign-in.styles.scss';\n\nclass SignIn extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\ttoastType: null,\n\t\t\tshowError: false,\n\t\t\terrorMsg: '',\n\t\t\tupdatePassword: false,\n\t\t\tloading: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (auth.isSignInWithEmailLink(window.location.href)) {\n\t\t\tlet email = localStorage.getItem('emailForSignIn');\n\n\t\t\tif (!email) {\n\t\t\t\temail = prompt('Please provide your email for confirmation');\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\temail\n\t\t\t});\n\n\t\t\tauth\n\t\t\t\t.signInWithEmailLink(email, window.location.href)\n\t\t\t\t.then(() => {\n\t\t\t\t\tlocalStorage.removeItem('emailForSignIn');\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tupdatePassword: true\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('ERROR: Unable to verify user.');\n\t\t\t\t\tconsole.error(error.message);\n\t\t\t\t});\n\t\t}\n\t}\n\n\thandleSubmit = async event => {\n\t\tevent.preventDefault();\n\n\t\tif (this.state.loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { email, password } = this.state;\n\n\t\ttry {\n\t\t\tawait auth.signInWithEmailAndPassword(email, password);\n\t\t\tthis.setState({\n\t\t\t\temail: '',\n\t\t\t\tpassword: '',\n\t\t\t\tshowError: false,\n\t\t\t\tloading: true\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tthis.setState({\n\t\t\t\tshowError: true,\n\t\t\t\terrorMsg: error.message.slice(0, error.message.indexOf('.') + 1),\n\t\t\t\tloading: false\n\t\t\t});\n\t\t}\n\t};\n\n\thandleChange = event => {\n\t\tconst { value, name } = event.target;\n\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleClick = async event => {\n\t\tevent.preventDefault();\n\t\tconst { name } = event.target;\n\n\t\tswitch (name) {\n\t\t\tcase 'send-email':\n\t\t\t\tawait signInViaEmail(this.state.email);\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\ttoastType: 'emailSent'\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tdocument.querySelector('#modal-close').click();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'cancel':\n\t\t\t\tthis.setState({\n\t\t\t\t\temail: '',\n\t\t\t\t\tpassword: ''\n\t\t\t\t});\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error('ERROR: Uh oh! Something went wrong. Please try again.');\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='sign-in'>\n\t\t\t\t<h2 className='title'>I already have an account</h2>\n\t\t\t\t<span>Sign in with your email and password</span>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<div className='buttons'>\n\t\t\t\t\t\t<div className='sign-in-btn'>\n\t\t\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-dark change-password-btn spinner-btn'\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='spinner-border spinner-border' role='status'>\n\t\t\t\t\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<CustomButton style={{ width: '45%' }} type='submit'>\n\t\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t\t</CustomButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='google-sign-in-btn'>\n\t\t\t\t\t\t\t<CustomButton\n\t\t\t\t\t\t\t\tstyle={{ width: '65%' }}\n\t\t\t\t\t\t\t\tonClick={signInWithGoogle}\n\t\t\t\t\t\t\t\tisGoogleSignIn\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSign In with Google\n\t\t\t\t\t\t\t</CustomButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='forgot-password'>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto='#'\n\t\t\t\t\t\t\tclassName='forgot-password-link'\n\t\t\t\t\t\t\tdata-toggle='modal'\n\t\t\t\t\t\t\tdata-target='#forgotPasswordModal'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tForgot Password?\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t{this.state.showError ? (\n\t\t\t\t\t<span id='error-message' className='animated pulse infinite'>\n\t\t\t\t\t\t{this.state.errorMsg}\n\t\t\t\t\t</span>\n\t\t\t\t) : null}\n\t\t\t\t<div className='forgot-password-modal'>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='modal fade'\n\t\t\t\t\t\tid='forgotPasswordModal'\n\t\t\t\t\t\ttabIndex='-1'\n\t\t\t\t\t\trole='dialog'\n\t\t\t\t\t\taria-labelledby='createList'\n\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='modal-dialog modal-dialog-centered' role='document'>\n\t\t\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id='createListTitle'>\n\t\t\t\t\t\t\t\t\t\tEnter Email Address\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tid='modal-close'\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tclassName='close'\n\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='modal-body' style={{ paddingBottom: '0px' }}>\n\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\tid='forgotEmailInput'\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\tonKeyPress={event => this.keyPressHandler(event)}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='required-field'>* Required</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='modal-footer'\n\t\t\t\t\t\t\t\t\tstyle={{ paddingTop: '0px', borderTop: 'none' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tname='cancel'\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-light'\n\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tname='send-email'\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-dark'\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='toast-container'>\n\t\t\t\t\t{this.state.toastType !== null ? (\n\t\t\t\t\t\t<Toast type={this.state.toastType} />\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SignIn;\n","import React from 'react';\n\nimport FormInput from '../form-input/form-input.component';\nimport CustomButton from '../custom-button/custom-button.component';\n\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils';\n\nimport './sign-up.styles.scss';\n\nclass SignUp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdisplayName: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tconfirmPassword: '',\n\t\t\tshowError: false,\n\t\t\terrorMsg: '',\n\t\t\tloading: false\n\t\t};\n\t}\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tloading: true\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tsetTimeout(async () => {\n\t\t\t\t\tconst { displayName, email, password, confirmPassword } = this.state;\n\n\t\t\t\t\tif (password !== confirmPassword) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tshowError: true,\n\t\t\t\t\t\t\terrorMsg: 'Passwords do not match. Please try again.',\n\t\t\t\t\t\t\tloading: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst { user } = await auth.createUserWithEmailAndPassword(\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tawait createUserProfileDocument(user, { displayName });\n\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tdisplayName: '',\n\t\t\t\t\t\t\temail: '',\n\t\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\t\tconfirmPassword: '',\n\t\t\t\t\t\t\tloading: false\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tshowError: true,\n\t\t\t\t\t\t\terrorMsg: error.message,\n\t\t\t\t\t\t\tloading: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t);\n\t};\n\n\thandleChange = event => {\n\t\tconst { name, value } = event.target;\n\n\t\tthis.setState({ [name]: value });\n\t};\n\n\trender() {\n\t\tconst { displayName, email, password, confirmPassword } = this.state;\n\t\treturn (\n\t\t\t<div className='sign-up'>\n\t\t\t\t<h2 className='title'>I do not have an account</h2>\n\t\t\t\t<span>Sign up with your email and password</span>\n\n\t\t\t\t<form className='sign-up-form' onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='displayName'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tmaxLength={15}\n\t\t\t\t\t\tvalue={displayName}\n\t\t\t\t\t\tlabel='Username'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\tlabel='Confirm Password'\n\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<div className='buttons'>\n\t\t\t\t\t\t<div className='sign-up-btn'>\n\t\t\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-dark change-password-btn spinner-btn'\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='spinner-border spinner-border' role='status'>\n\t\t\t\t\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<CustomButton type='submit'> Sign Up </CustomButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t{this.state.showError ? (\n\t\t\t\t\t<span id='error-message' className='animated pulse infinite'>\n\t\t\t\t\t\t{this.state.errorMsg}\n\t\t\t\t\t</span>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SignUp;\n","import React from 'react';\n\nimport SignIn from '../../components/sign-in/sign-in.component';\nimport SignUp from '../../components/sign-up/sign-up.component';\n\nimport './sign-in-and-sign-up.styles.scss';\n\nconst SignInAndSignUpPage = () => (\n    <div className='sign-in-and-sign-up'>\n        <SignIn />\n        <SignUp />\n    </div>\n);\n\nexport default SignInAndSignUpPage;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../firebase/firebase.utils';\n\nimport CustomButton from '../../components/custom-button/custom-button.component';\nimport FormInput from '../../components/form-input/form-input.component';\nimport LoadingSpinner from '../../components/loading-spinner/loading-spinner.component';\nimport Toast from '../../components/toast/toast.component';\n\nimport shortid from 'shortid';\n\nimport './user-lists.styles.scss';\n\nclass UserLists extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlistName: '',\n\t\t\ttodoLists: [],\n\t\t\tinvitedLists: {},\n\t\t\tisLoaded: false,\n\t\t\ttoastType: null,\n\t\t\tlistSearch: '',\n\t\t\tloading: false,\n\t\t\tdeleting: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.currentUser) {\n\t\t\tthis.initialize();\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisLoaded: false\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.currentUser !== this.props.currentUser) {\n\t\t\tthis.getLists().then(listData => {\n\t\t\t\tconst userLists = listData.filter(\n\t\t\t\t\tlist =>\n\t\t\t\t\t\tthis.props.currentUser.todoListIDs.includes(list.id) ||\n\t\t\t\t\t\tObject.keys(this.props.currentUser.inviteIDs).includes(list.id)\n\t\t\t\t);\n\n\t\t\t\tuserLists.sort((list1, list2) => list2.createdAt - list1.createdAt);\n\n\t\t\t\tconst invitedUserLists = { ...this.props.currentUser.inviteIDs };\n\n\t\t\t\tthis.setState({\n\t\t\t\t\ttodoLists: userLists,\n\t\t\t\t\tinvitedLists: invitedUserLists,\n\t\t\t\t\tisLoaded: true\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.toastType) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttoastType: null\n\t\t\t\t});\n\t\t\t}, 4500);\n\t\t}\n\t}\n\n\tinitialize = () => {\n\t\tthis.getLists().then(listData => {\n\t\t\tconst userLists = listData.filter(\n\t\t\t\tlist =>\n\t\t\t\t\tthis.props.currentUser.todoListIDs.includes(list.id) ||\n\t\t\t\t\tObject.keys(this.props.currentUser.inviteIDs).includes(list.id)\n\t\t\t);\n\n\t\t\tuserLists.sort((list1, list2) => list2.createdAt - list1.createdAt);\n\n\t\t\tconst invitedUserLists = { ...this.props.currentUser.inviteIDs };\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttodoLists: userLists,\n\t\t\t\t\tinvitedLists: invitedUserLists,\n\t\t\t\t\tisLoaded: true,\n\t\t\t\t\tdeleting: false\n\t\t\t\t});\n\t\t\t}, 500);\n\t\t});\n\t};\n\n\tcreateTodoList = () => {\n\t\tif (this.state.listName === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tloading: true\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tsetTimeout(async () => {\n\t\t\t\t\tif (this.props.currentUser) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tuserID,\n\t\t\t\t\t\t\ttodoListIDs,\n\t\t\t\t\t\t\tdisplayName\n\t\t\t\t\t\t} = this.props.currentUser;\n\t\t\t\t\t\tconst newListID = shortid.generate().substr(0, 4);\n\t\t\t\t\t\tconst listRef = firestore.doc(`todoLists/${newListID}`);\n\t\t\t\t\t\tconst listSnapshot = await listRef.get();\n\n\t\t\t\t\t\tif (!listSnapshot.exists) {\n\t\t\t\t\t\t\tconst createdAt = Date.now();\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tlistRef.set({\n\t\t\t\t\t\t\t\t\tid: newListID,\n\t\t\t\t\t\t\t\t\tadminID: userID,\n\t\t\t\t\t\t\t\t\tcreatedBy: displayName,\n\t\t\t\t\t\t\t\t\tcontributorIDs: [id],\n\t\t\t\t\t\t\t\t\tactiveContributors: [],\n\t\t\t\t\t\t\t\t\tlistName: this.state.listName,\n\t\t\t\t\t\t\t\t\ttodos: [],\n\t\t\t\t\t\t\t\t\ttodoFilter: 'all',\n\t\t\t\t\t\t\t\t\tdescending: true,\n\t\t\t\t\t\t\t\t\tcreatedAt,\n\t\t\t\t\t\t\t\t\tlastUpdated: createdAt\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\t\t'ERROR: Unable to create todo list',\n\t\t\t\t\t\t\t\t\terror.message\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdocument.querySelector('#modal-close').click();\n\n\t\t\t\t\t\t\tthis.getLists().then(listData => {\n\t\t\t\t\t\t\t\tconst userLists = listData.filter(\n\t\t\t\t\t\t\t\t\tlist =>\n\t\t\t\t\t\t\t\t\t\tthis.props.currentUser.todoListIDs.includes(list.id) ||\n\t\t\t\t\t\t\t\t\t\tObject.keys(this.props.currentUser.inviteIDs).includes(\n\t\t\t\t\t\t\t\t\t\t\tlist.id\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tuserLists.sort(\n\t\t\t\t\t\t\t\t\t(list1, list2) => list2.createdAt - list1.createdAt\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst invitedUserLists = {\n\t\t\t\t\t\t\t\t\t...this.props.currentUser.inviteIDs\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tlistName: '',\n\t\t\t\t\t\t\t\t\ttodoLists: userLists,\n\t\t\t\t\t\t\t\t\tinvitedLists: invitedUserLists,\n\t\t\t\t\t\t\t\t\tloading: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.updateUserTodoIDs(id, newListID, todoListIDs);\n\n\t\t\t\t\t\t\treturn listRef;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 1500);\n\t\t\t}\n\t\t);\n\t};\n\n\tgetLists = async () => {\n\t\tconst todoLists = [];\n\n\t\tconst listRef = firestore.collection('todoLists');\n\t\tconst listSnapshot = await listRef.get();\n\t\tconst listData = listSnapshot.docs;\n\n\t\tlistData.forEach(async list => {\n\t\t\ttodoLists.unshift(list.data());\n\t\t\tconst updateRef = firestore.doc(`todoLists/${list.id}`);\n\t\t\tconst updateSnap = await updateRef.get();\n\t\t\tupdateRef.update({\n\t\t\t\tactiveContributors: updateSnap\n\t\t\t\t\t.data()\n\t\t\t\t\t.activeContributors.filter(id => id !== this.props.currentUser.userID)\n\t\t\t});\n\t\t});\n\n\t\treturn todoLists;\n\t};\n\n\tupdateUserTodoIDs = async (userID, newListID, currentListIDs) => {\n\t\tconst userRef = firestore.doc(`users/${userID}`);\n\t\tconst userSnapshot = await userRef.get();\n\n\t\tif (userSnapshot.exists) {\n\t\t\ttry {\n\t\t\t\tuserRef\n\t\t\t\t\t.update({\n\t\t\t\t\t\ttodoListIDs: [...currentListIDs, newListID]\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.updateContributors(newListID);\n\t\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('ERROR: Unable to update todo lists', error.message);\n\t\t\t}\n\t\t}\n\t};\n\n\thandleChange = event => {\n\t\tevent.preventDefault();\n\n\t\tconst { value } = event.target;\n\n\t\tthis.setState({\n\t\t\tlistName: value\n\t\t});\n\t};\n\n\tkeyPressHandler = event => {\n\t\tif (this.state.listName === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.createTodoList();\n\t\t}\n\t};\n\n\thandleInvite = async (response, listID) => {\n\t\tconst { id, inviteIDs, todoListIDs } = this.props.currentUser;\n\t\tlet updatedTodoLists = [];\n\t\tlet updatedInvitedLists = {};\n\n\t\tconst currentUserRef = firestore.doc(`users/${id}`);\n\t\tawait currentUserRef.get().then(() => {\n\t\t\t// Remove invited list from inviteIDs\n\t\t\tupdatedInvitedLists = inviteIDs;\n\t\t\tdelete updatedInvitedLists[listID];\n\n\t\t\tif (response === 'accept') {\n\t\t\t\t// Add invited to todo lists\n\t\t\t\tupdatedTodoLists = [listID, ...todoListIDs];\n\t\t\t\tthis.updateContributors(listID);\n\t\t\t\tthis.setState({\n\t\t\t\t\ttoastType: 'inviteAccepted'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Leave todo lists as is\n\t\t\t\tupdatedTodoLists = [...todoListIDs];\n\t\t\t}\n\n\t\t\tcurrentUserRef.update({\n\t\t\t\ttodoListIDs: updatedTodoLists,\n\t\t\t\tinviteIDs: updatedInvitedLists\n\t\t\t});\n\t\t});\n\t};\n\n\tsearchLists = value => {\n\t\tthis.setState({\n\t\t\tlistSearch: value\n\t\t});\n\t};\n\n\thandleDelete = event => {\n\t\tlet parentEl = document.querySelector(`div[id=\"${event.target.id}\"]`);\n\t\tparentEl.classList.add('deleting');\n\t\tevent.target.classList.add('deleting');\n\t\ttry {\n\t\t\tfirestore\n\t\t\t\t.doc(`todoLists/${event.target.id}`)\n\t\t\t\t.delete()\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttoastType: 'listDeleted',\n\t\t\t\t\t\t\t\tdeleting: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.initialize();\n\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}, 2500);\n\t\t\t\t});\n\t\t} catch (error) {\n\t\t\tthis.setState({\n\t\t\t\ttoastType: 'errorDeletingList',\n\t\t\t\tdeleting: false\n\t\t\t});\n\t\t\tparentEl.classList.remove('deleting');\n\t\t\tevent.target.classList.remove('deleting');\n\t\t\tconsole.error('ERROR: Unable to delete todo list.');\n\t\t\tconsole.error(error.message);\n\t\t}\n\t};\n\n\tupdateContributors = async listID => {\n\t\tconst { id } = this.props.currentUser;\n\t\tconst listPageRef = firestore.doc(`todoLists/${listID}`);\n\t\tawait listPageRef.get().then(doc => {\n\t\t\tif (!doc.data().contributorIDs.includes(id)) {\n\t\t\t\tconst updatedContributors = [...doc.data().contributorIDs, id];\n\t\t\t\tlistPageRef.update({\n\t\t\t\t\tcontributorIDs: updatedContributors\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { match } = this.props;\n\t\tconst { listName, todoLists, invitedLists } = this.state;\n\n\t\tlet mappedTodos = todoLists.map(list => {\n\t\t\treturn list.listName\n\t\t\t\t.toLowerCase()\n\t\t\t\t.includes(this.state.listSearch.toLocaleLowerCase()) ? (\n\t\t\t\t<div key={list.id} id={list.id} className='todo-list-div'>\n\t\t\t\t\t<div className='todo-lists-container'>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tlistid={list.id}\n\t\t\t\t\t\t\tto={\n\t\t\t\t\t\t\t\tthis.state.deleting\n\t\t\t\t\t\t\t\t\t? '#'\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tpathname: Object.keys(invitedLists).includes(list.id)\n\t\t\t\t\t\t\t\t\t\t\t\t? `${match.url}`\n\t\t\t\t\t\t\t\t\t\t\t\t: `${match.url}/todo-list/${list.id}`,\n\t\t\t\t\t\t\t\t\t\t\tstate: { ...list }\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tObject.keys(invitedLists).includes(list.id) ? 'invited' : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className='dot'>&#9999; </span>\n\t\t\t\t\t\t\t{list.listName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t{Object.keys(invitedLists).includes(list.id) ? (\n\t\t\t\t\t\t\t<div className='invite-options'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='#'\n\t\t\t\t\t\t\t\t\tclassName='badge badge-success accept'\n\t\t\t\t\t\t\t\t\tonClick={() => this.handleInvite('accept', list.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='#'\n\t\t\t\t\t\t\t\t\tclassName='badge badge-danger decline'\n\t\t\t\t\t\t\t\t\tonClick={() => this.handleInvite('decline', list.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDecline\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='list-details'>\n\t\t\t\t\t\t{`Created by ${list.createdBy} on ${new Date(\n\t\t\t\t\t\t\tlist.createdAt\n\t\t\t\t\t\t).toLocaleDateString()}`}\n\t\t\t\t\t\t{this.props.currentUser &&\n\t\t\t\t\t\tthis.props.currentUser.userID === list.adminID ? (\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tid={list.id}\n\t\t\t\t\t\t\t\tclassName='material-icons delete-todo-list'\n\t\t\t\t\t\t\t\tonClick={this.state.deleting ? null : this.handleDelete}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null;\n\t\t});\n\n\t\treturn !this.state.isLoaded ? (\n\t\t\t<LoadingSpinner message='userLists' />\n\t\t) : (\n\t\t\t<div className='lists-container'>\n\t\t\t\t<div className='list-header'>\n\t\t\t\t\t<h2 className='user-greeting'>{`Hello, ${\n\t\t\t\t\t\tthis.props.currentUser\n\t\t\t\t\t\t\t? this.props.currentUser.displayName\n\t\t\t\t\t\t\t: 'there'\n\t\t\t\t\t}!`}</h2>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='user-todo-lists'>\n\t\t\t\t\t<div className='active-todo-lists-title'>\n\t\t\t\t\t\t<h4>Active ToDo Lists:</h4>\n\t\t\t\t\t\t<div className='form-inline my-2 my-lg-0 list-search'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control mr-sm-2'\n\t\t\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\t\t\tplaceholder='Search Lists'\n\t\t\t\t\t\t\t\taria-label='Search'\n\t\t\t\t\t\t\t\tonChange={event => {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tlistSearch: event.target.value\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<i className='material-icons mag-glass'>search</i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='listed-todo-lists'>\n\t\t\t\t\t\t<div className='lists'>{mappedTodos}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='add-todo-list-btn'>\n\t\t\t\t\t<CustomButton\n\t\t\t\t\t\tdata-toggle='modal'\n\t\t\t\t\t\tdata-target='#createList'\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t() => document.querySelector('#newListName').focus(),\n\t\t\t\t\t\t\t\t500\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tthis.state.toastType\n\t\t\t\t\t\t\t\t? { opacity: 0.1 }\n\t\t\t\t\t\t\t\t: { transition: 'opacity 1s', opacity: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd New Todo List\n\t\t\t\t\t</CustomButton>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='modal fade'\n\t\t\t\t\t\tid='createList'\n\t\t\t\t\t\ttabIndex='-1'\n\t\t\t\t\t\trole='dialog'\n\t\t\t\t\t\taria-labelledby='createList'\n\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='modal-dialog modal-dialog-centered' role='document'>\n\t\t\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id='createListTitle'>\n\t\t\t\t\t\t\t\t\t\tCreate New Todo List\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tid='modal-close'\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tclassName='close'\n\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='modal-body' style={{ paddingBottom: '0px' }}>\n\t\t\t\t\t\t\t\t\t<FormInput\n\t\t\t\t\t\t\t\t\t\tid='newListName'\n\t\t\t\t\t\t\t\t\t\tname='listName'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={listName}\n\t\t\t\t\t\t\t\t\t\tlabel='List Name'\n\t\t\t\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\tonKeyPress={event => this.keyPressHandler(event)}\n\t\t\t\t\t\t\t\t\t\tmaxLength={35}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='required-field'>* Required</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='modal-footer'\n\t\t\t\t\t\t\t\t\tstyle={{ paddingTop: '0px', borderTop: 'none' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='max-characters'>{`${this.state.listName.length} characters (maximum 35 characters)`}</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-light'\n\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-dark change-password-btn spinner-btn'\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='spinner-border spinner-border'\n\t\t\t\t\t\t\t\t\t\t\t\trole='status'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='sr-only'>Loading...</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-dark'\n\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.loading ? null : () => this.createTodoList()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='toast-container'>\n\t\t\t\t\t{this.state.toastType !== null ? (\n\t\t\t\t\t\t<Toast type={this.state.toastType} />\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nexport default connect(mapStateToProps)(UserLists);\n","import React from 'react';\n\nimport './reset-password.styles.scss';\n\nconst ResetPassword = props => {\n\treturn (\n\t\t<div className='reset-password-container'>\n\t\t\t<h2>Set New Password</h2>\n\t\t</div>\n\t);\n};\n\nexport default ResetPassword;\n","import React from 'react';\nimport LoadingSpinner from '../../components/loading-spinner/loading-spinner.component';\n\nimport './sign-out.styles.scss';\n\nconst SignOut = () => {\n\treturn <LoadingSpinner message='signout' />;\n};\n\nexport default SignOut;\n","import React, { useState, useEffect } from 'react';\n\nimport LoadingSpinner from '../../components/loading-spinner/loading-spinner.component';\n\nimport './contact.styles.scss';\n\nconst Contact = () => {\n\tconst [state, setState] = useState({\n\t\tisLoaded: false\n\t});\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetState({ isLoaded: true });\n\t\t}, 1500);\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t{!state.isLoaded ? <LoadingSpinner message='contactPage' /> : null}\n\t\t\t<div\n\t\t\t\tclassName='contact-page-container'\n\t\t\t\tstyle={\n\t\t\t\t\tstate.isLoaded ? { visibility: 'visible' } : { visibility: 'hidden' }\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className='contact-title'>\n\t\t\t\t\t<h1>Who Are We?</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className='contact-card-container'>\n\t\t\t\t\t<div className='contact-card'>\n\t\t\t\t\t\t<div className='contact-photo'>\n\t\t\t\t\t\t\t<div id='nbernstein' className='contact-image'></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='contact-info'>\n\t\t\t\t\t\t\t<h2>Nick Bernstein</h2>\n\t\t\t\t\t\t\t<span>nbernstein@callutheran.edu</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='contact-card'>\n\t\t\t\t\t\t<div className='contact-photo'>\n\t\t\t\t\t\t\t<div id='sjohnson' className='contact-image'></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='contact-info'>\n\t\t\t\t\t\t\t<h2>Steven Johnson</h2>\n\t\t\t\t\t\t\t<span>stevenjohnson@callutheran.edu</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='contact-card'>\n\t\t\t\t\t\t<div className='contact-photo'>\n\t\t\t\t\t\t\t<div id='jobryan' className='contact-image'></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='contact-info'>\n\t\t\t\t\t\t\t<h2>Jacob O'Bryan</h2>\n\t\t\t\t\t\t\t<span>jobryan@callutheran.edu</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Contact;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { connect } from 'react-redux';\nimport { setCurrentUser } from './redux/user/user.actions';\n\nimport Header from '../src/components/header/header.component';\nimport TodoListPage from './pages/todo-list/todo-list.component';\nimport Profile from './pages/profile/profile.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport UserLists from './pages/user-lists/user-lists.component';\nimport ResetPassword from './pages/reset-password/reset-password.component';\nimport SignOut from './pages/sign-out/sign-out.component';\nimport Contact from './pages/contact/contact.component';\n\nimport './App.css';\n\nclass App extends React.Component {\n\tunsubscribeFromAuth = null;\n\n\tcomponentDidMount() {\n\t\tthis.passwordUpdateRequired = auth.isSignInWithEmailLink(\n\t\t\twindow.location.href\n\t\t);\n\n\t\tconst { setCurrentUser } = this.props;\n\n\t\tthis.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n\t\t\tif (userAuth) {\n\t\t\t\tconst userRef = await createUserProfileDocument(userAuth);\n\n\t\t\t\tuserRef.onSnapshot(snapShot => {\n\t\t\t\t\tsetCurrentUser({\n\t\t\t\t\t\tid: snapShot.id,\n\t\t\t\t\t\t...snapShot.data()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetCurrentUser(userAuth);\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unsubscribeFromAuth();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/signin'\n\t\t\t\t\t\trender={() =>\n\t\t\t\t\t\t\tthis.props.currentUser ? (\n\t\t\t\t\t\t\t\tauth.isSignInWithEmailLink(window.location.href) ? (\n\t\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\t\tpathname: `/user/${this.props.currentUser.userID}/profile`,\n\t\t\t\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\t\t\t\tpasswordUpdateRequired: true\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\t\tto={`/user/${this.props.currentUser.userID}/todo-lists`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SignInAndSignUpPage />\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route exact path='/user/:userID/profile' component={Profile} />\n\t\t\t\t\t<Route exact path='/user/:userID/todo-lists' component={UserLists} />\n\t\t\t\t\t<Route exact path='/contact' component={Contact} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/user/:userID/todo-lists/todo-list/:todoListID'\n\t\t\t\t\t\tcomponent={TodoListPage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route exact path='/signout' component={SignOut} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/reset-password/:userEmail'\n\t\t\t\t\t\tcomponent={ResetPassword}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/' component={TodoListPage} />\n\t\t\t\t\t/>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ user }) => ({\n\tcurrentUser: user.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tsetCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { UserActionTypes } from './user.types';\n\nexport const setCurrentUser = user => ({\n\ttype: UserActionTypes.SET_CURRENT_USER,\n\tpayload: user\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n// import { PersistGate } from \"redux-persist/integration/react\";\n\nimport store from './redux/store';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// ReactDOM.render(\n//     <BrowserRouter>\n//       <PersistGate persistor={persistor}>\n//         <App />\n//       </PersistGate>\n//     </BrowserRouter>\n//   document.getElementById(\"root\")\n// );\n"],"sourceRoot":""}